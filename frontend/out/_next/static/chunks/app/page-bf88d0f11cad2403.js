(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9824:function(e,s,t){Promise.resolve().then(t.bind(t,7210))},7210:function(e,s,t){"use strict";t.d(s,{default:function(){return d}});var n=t(7437),l=t(2265),a=t(1532),i=t(3145),r=function(e){let{message:s}=e;return(0,n.jsx)("p",{className:"font-['Inter:Regular',sans-serif] text-[14px] text-white leading-[1.35] m-0",children:s})},o=t(257),c=function(e){let{currentLanguage:s}=e,[t,c]=(0,l.useState)([{id:"1",type:"bot",content:(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"mb-0",children:[(0,n.jsx)("span",{className:"font-bold",children:"Hi, I'm Histora â€” your AI assistant!"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]}),(0,n.jsx)("p",{className:"mb-0",children:"I'm here to help you dive deeper into the content on this page."}),(0,n.jsx)("p",{className:"mb-0",children:"To tailor the experience to your learning style, could you tell me your role?"}),(0,n.jsx)("p",{className:"mb-0",children:"\xa0"}),(0,n.jsx)("p",{className:"font-semibold",children:"Please select one to get started:"})]}),timestamp:new Date}]),[d,x]=(0,l.useState)("initial"),[p,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[f,g]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),b=(0,l.useRef)(null),v=(0,l.useRef)(null),N={general:"General User",congressional_staffer:"Congressional Staffer",research_journalist:"Research Journalist",law_student:"Law Student"},w=()=>{v.current&&v.current.scrollTo({top:v.current.scrollHeight,behavior:"smooth"})};(0,l.useEffect)(()=>{w()},[t,j]);let I=e=>{u(e);let s={id:Date.now().toString(),type:"user",content:N[e],timestamp:new Date};c(e=>[...e,s]),y(!0),setTimeout(()=>{let s={id:(Date.now()+1).toString(),type:"bot",content:(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"mb-0",children:["Perfect! I'm now configured for ",(0,n.jsx)("strong",{children:N[e]})," responses."]}),(0,n.jsx)("p",{className:"mb-0",children:"\xa0"}),(0,n.jsx)("p",{className:"mb-0",children:"You can ask me about:"}),(0,n.jsxs)("ul",{className:"list-disc ml-5 mt-2",children:[(0,n.jsx)("li",{children:"Constitutional history and amendments"}),(0,n.jsx)("li",{children:"Congressional bills and legislation"}),(0,n.jsx)("li",{children:"Historical newspapers and documents"}),(0,n.jsx)("li",{children:"Legal precedents and court cases"})]}),(0,n.jsx)("p",{className:"mt-3 mb-0",children:"What would you like to explore?"})]}),timestamp:new Date};c(e=>[...e,s]),x("persona-selected"),y(!1)},800)},S=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||m.trim();if(t&&!f){h(""),c(e=>[...e,{type:"user",content:t}]),g(!0),y(!0);try{let e=o.env.NEXT_PUBLIC_API_BASE_URL||o.env.NEXT_PUBLIC_CHAT_ENDPOINT,n=await fetch("".concat(e,"chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,persona:p,language:s})});if(!n.ok)throw Error("Failed to get response");let l=await n.json();y(!1),c(e=>[...e,{type:"bot",content:l.message||"I'm sorry, I couldn't process your request.",sources:l.sources||[]}])}catch(e){y(!1),c(e=>[...e,{type:"bot",content:"I'm sorry, there was an error processing your request. Please try again.",sources:[]}])}finally{g(!1)}}};return(0,n.jsxs)("div",{className:"bg-[#f4eee5] flex flex-col fixed inset-0 z-50 w-screen h-screen",children:[(0,n.jsx)("div",{className:"bg-[#28333a] flex h-[60px] items-center leading-[0] px-[32px] py-[10px] shrink-0",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-[48px] h-[48px] bg-white rounded-full flex items-center justify-center overflow-hidden p-1",children:(0,n.jsx)(i.default,{src:"/logo.png",alt:"Historical Figure Avatar",width:32,height:32,className:"w-full h-full object-cover rounded-full",style:{maxWidth:"32px",maxHeight:"32px"}})}),(0,n.jsx)("p",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold text-[16px] text-white",children:"Histora AI Chatbot"})]})}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto px-[29.5px] py-[29px]",ref:v,children:(0,n.jsxs)("div",{className:"flex flex-col gap-[30px]",children:[t.map((e,s)=>(0,n.jsxs)("div",{children:["bot"===e.type&&(0,n.jsx)("div",{className:"font-['Inter:Regular',sans-serif] text-[14px] text-black leading-[1.35]",children:e.content}),"user"===e.type&&(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("div",{className:"bg-[#28333a] px-[18px] py-[8px] rounded-[30px] max-w-[80%]",children:(0,n.jsx)(r,{message:e.content})})}),0===s&&"initial"===d&&(0,n.jsx)("div",{className:"flex flex-wrap gap-3 mt-[17px]",children:Object.entries(N).map(e=>{let[s,t]=e;return(0,n.jsx)("button",{onClick:()=>I(s),className:"bg-[rgba(198,156,115,0.3)] h-[34px] px-[19px] py-[7px] rounded-[30px] hover:bg-[rgba(198,156,115,0.4)] transition-colors",children:(0,n.jsx)("p",{className:"font-['Inter:Regular',sans-serif] text-[14px] text-black leading-[1.35] m-0",children:t})},s)})})]},e.id||s)),j&&(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("div",{className:"bg-[rgba(198,156,115,0.2)] px-[18px] py-[10px] rounded-[20px]",children:(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-[#28333a] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,n.jsx)("div",{className:"w-2 h-2 bg-[#28333a] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,n.jsx)("div",{className:"w-2 h-2 bg-[#28333a] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,n.jsx)("div",{ref:b})]})}),(0,n.jsx)("div",{className:"px-[32px] pb-[29px] shrink-0",children:(0,n.jsxs)("div",{className:"bg-[rgba(93,85,67,0.1)] flex h-[46px] items-center justify-between px-[12px] py-[6px] rounded-[10px]",children:[(0,n.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),S())},placeholder:"Type your question...",disabled:f,className:"flex-1 bg-transparent font-['Inter:Regular',sans-serif] text-[14px] text-black placeholder:text-[#737376] leading-[1.35] outline-none"}),(0,n.jsx)("button",{onClick:()=>S(),disabled:!m.trim()||f,className:"flex items-center justify-center w-[34px] h-[34px] hover:opacity-70 transition-opacity disabled:opacity-50","aria-label":"Send message",children:(0,n.jsx)(a.Z,{sx:{fontSize:"18px",color:"#28333A"}})})]})})]})},d=function(){let[e,s]=(0,l.useState)(()=>localStorage.getItem("selectedLanguage")||"en");return(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,n.jsx)("div",{style:{display:"flex",position:"relative"},children:(0,n.jsx)("div",{style:{flexGrow:1,display:"flex",flexDirection:"column",position:"relative"},children:(0,n.jsx)("div",{style:{flex:"1 1 auto",display:"flex",flexDirection:"column",position:"relative"},children:(0,n.jsx)(c,{currentLanguage:e})})})})})}}},function(e){e.O(0,[395,493,971,117,744],function(){return e(e.s=9824)}),_N_E=e.O()}]);